[gd_scene load_steps=10 format=3 uid="uid://b03dm5foy3tid"]

[ext_resource type="Script" path="res://Scenes/Game.gd" id="1_01bgg"]
[ext_resource type="PackedScene" uid="uid://bumue5pppiwug" path="res://Scenes/Maps/TestMap.tscn" id="1_82oit"]
[ext_resource type="PackedScene" uid="uid://degt6oc40mi1t" path="res://Scenes/Models/Player/Player.tscn" id="1_ctsb1"]
[ext_resource type="PackedScene" uid="uid://dlfpn58g0wlys" path="res://Scenes/UI/Debug.tscn" id="3_17a4f"]
[ext_resource type="PackedScene" uid="uid://yb43ks5ned6a" path="res://Scenes/UI/NewInventory/inventory.tscn" id="5_nsixv"]
[ext_resource type="Script" path="res://Scenes/UI/OnScreen/OnScreen.cs" id="7_27c3j"]
[ext_resource type="Texture2D" uid="uid://ddc422hhrh3xp" path="res://Assets/Icons/add.svg" id="7_ma0te"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_bb8dq"]
border_width_left = 2
border_width_top = 2
border_width_right = 2
border_width_bottom = 2
border_color = Color(0, 0, 0, 1)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_64myj"]
bg_color = Color(0.192157, 0.537255, 0.207843, 1)
border_width_left = 2
border_width_top = 2
border_width_right = 2
border_width_bottom = 2
border_color = Color(0, 0, 0, 1)

[node name="Game" type="Node"]
script = ExtResource("1_01bgg")

[node name="TestMap" parent="." instance=ExtResource("1_82oit")]

[node name="Player" parent="TestMap" instance=ExtResource("1_ctsb1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.633851, 0)

[node name="Skeleton3D" parent="TestMap/Player/Visuals/Armature" index="0"]
bones/0/position = Vector3(0.332353, -0.256949, -98.8006)
bones/0/rotation = Quaternion(-0.726286, -0.0480984, 0.00829987, 0.685657)
bones/1/rotation = Quaternion(-0.0301495, 0.0122972, 0.0243231, 0.999174)
bones/2/rotation = Quaternion(0.0112131, 0.00117047, 0.0124361, 0.999859)
bones/3/rotation = Quaternion(0.0684598, 0.00206478, 0.0124087, 0.997575)
bones/4/rotation = Quaternion(0.0490097, -0.00156377, 0.00450869, 0.998787)
bones/5/rotation = Quaternion(-0.0655297, 0.00780381, -0.00132423, 0.997819)
bones/6/rotation = Quaternion(-0.594452, -0.438321, 0.510768, -0.44002)
bones/7/rotation = Quaternion(0.541038, 0.189125, 0.199961, 0.794686)
bones/8/rotation = Quaternion(5.04599e-08, -6.4228e-08, 0.0186921, 0.999825)
bones/9/rotation = Quaternion(0.0527045, -0.267074, 0.0286951, 0.961806)
bones/11/rotation = Quaternion(-0.135695, 0.085787, -0.231212, 0.959567)
bones/12/rotation = Quaternion(-0.12301, -0.0627753, 0.0255561, 0.990088)
bones/13/rotation = Quaternion(0.0731052, -0.000190546, 0.00963718, 0.997278)
bones/14/rotation = Quaternion(0.149439, -9.59939e-07, -0.0153199, 0.988652)
bones/15/rotation = Quaternion(0.0736964, -1.28135e-07, -0.00755216, 0.997252)
bones/16/rotation = Quaternion(0.143362, -0.00394676, -0.0240922, 0.989369)
bones/17/rotation = Quaternion(0.148833, -2.47692e-08, -0.0152519, 0.988745)
bones/18/rotation = Quaternion(0.157184, -1.65763e-07, -0.0161077, 0.987438)
bones/19/rotation = Quaternion(0.187567, -0.00410688, -0.0334807, 0.981673)
bones/20/rotation = Quaternion(0.180828, -1.55937e-06, -0.0185391, 0.98334)
bones/21/rotation = Quaternion(0.156902, -1.59516e-07, -0.0160788, 0.987483)
bones/22/rotation = Quaternion(0.237912, -0.00308824, -0.0504809, 0.969969)
bones/23/rotation = Quaternion(0.151917, -5.63625e-05, -0.0159333, 0.988265)
bones/24/rotation = Quaternion(0.143921, 3.31061e-05, -0.0145208, 0.989483)
bones/25/rotation = Quaternion(0.597065, -0.437135, 0.526135, 0.419057)
bones/26/rotation = Quaternion(0.458916, -0.250923, -0.238594, 0.818234)
bones/27/rotation = Quaternion(1.23772e-06, 1.28357e-07, -0.0725602, 0.997364)
bones/28/rotation = Quaternion(0.0579197, 0.16323, -0.00536996, 0.984872)
bones/30/rotation = Quaternion(-0.138805, -0.0718289, 0.269448, 0.950248)
bones/31/rotation = Quaternion(-0.155082, 0.0747061, -0.0264931, 0.984717)
bones/32/rotation = Quaternion(0.0696595, 0.000432318, -0.0128767, 0.997488)
bones/33/rotation = Quaternion(0.155164, 7.00747e-07, 0.012644, 0.987808)
bones/34/rotation = Quaternion(0.0722312, -5.4677e-08, 0.00588414, 0.997371)
bones/35/rotation = Quaternion(0.136946, 0.00446993, 0.0179865, 0.990405)
bones/36/rotation = Quaternion(0.160514, 2.71915e-07, 0.0130759, 0.986947)
bones/37/rotation = Quaternion(0.161533, 2.39252e-08, 0.013159, 0.98678)
bones/38/rotation = Quaternion(0.181747, 0.00507554, 0.0258765, 0.982992)
bones/39/rotation = Quaternion(0.194732, 1.74718e-06, 0.0158711, 0.980728)
bones/40/rotation = Quaternion(0.159361, 8.78354e-08, 0.012982, 0.987135)
bones/41/rotation = Quaternion(0.230996, 0.00493152, 0.0410845, 0.972074)
bones/42/rotation = Quaternion(0.157242, 1.42866e-06, 0.0128193, 0.987477)
bones/43/rotation = Quaternion(0.144288, -1.15031e-06, 0.0117438, 0.989466)
bones/44/rotation = Quaternion(0.128971, 0.0901599, 0.984566, -0.0766044)
bones/45/rotation = Quaternion(-0.125409, -0.0169641, 0.0314799, 0.99146)
bones/46/rotation = Quaternion(0.535345, -0.021401, -0.0269565, 0.843932)
bones/47/rotation = Quaternion(0.270668, -0.0323698, -0.0145664, 0.962018)
bones/48/rotation = Quaternion(-0.0913751, -0.0157795, 0.995402, -0.0240303)
bones/49/rotation = Quaternion(-0.0821072, 0.0766939, -0.0230677, 0.9934)
bones/50/rotation = Quaternion(0.573627, 0.00515642, -0.00614479, 0.819077)
bones/51/rotation = Quaternion(0.287634, 0.0318973, 0.0141085, 0.957105)

[node name="RightHandAttachment" parent="TestMap/Player/Visuals/Armature/Skeleton3D" index="2"]
transform = Transform3D(0.417324, 0.0297276, 0.908271, 0.902881, 0.099923, -0.418117, -0.103187, 0.994551, 0.0148597, -24.4831, 1.60357, -84.317)

[node name="LeftHandAttachment" parent="TestMap/Player/Visuals/Armature/Skeleton3D" index="3"]
transform = Transform3D(0.160562, 0.0039811, -0.987018, -0.985515, 0.0559496, -0.160092, 0.0545859, 0.998426, 0.0129068, 26.7363, -0.130743, -86.0365)

[node name="RightEquipAttachment" parent="TestMap/Player/Visuals/Armature/Skeleton3D" index="4"]
transform = Transform3D(-0.965845, -0.00579833, -0.259055, -0.259105, 0.0322596, 0.96531, 0.00275982, 0.999463, -0.0326601, -9.13415, -0.68658, -92.6551)

[node name="LeftEquipAttachment" parent="TestMap/Player/Visuals/Armature/Skeleton3D" index="5"]
transform = Transform3D(-0.978798, 0.104114, 0.176391, 0.195921, 0.224738, 0.95452, 0.0597371, 0.968841, -0.240372, 9.02773, 0.796166, -91.6699)

[node name="BackRightEquipAttachment" parent="TestMap/Player/Visuals/Armature/Skeleton3D" index="6"]
transform = Transform3D(0.998226, -0.0431341, -0.0410493, 0.0427098, 0.0383082, 0.998353, -0.0414906, -0.998335, 0.0400825, 1.00875, -4.72309, -133.661)

[node name="UI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 1152.0
offset_bottom = 649.0

[node name="DEBUG" parent="UI" node_paths=PackedStringArray("player", "state", "attun", "aiming", "canShoot") instance=ExtResource("3_17a4f")]
offset_left = 13.0
offset_top = 195.0
offset_right = 264.0
offset_bottom = 539.0
player = NodePath("../../TestMap/Player")
state = NodePath("VBoxContainer/State")
attun = NodePath("VBoxContainer/Attun")
aiming = NodePath("VBoxContainer/Aiming")
canShoot = NodePath("VBoxContainer/CanShoot")

[node name="VBoxContainer" type="VBoxContainer" parent="UI/DEBUG"]
layout_mode = 0
offset_right = 192.0
offset_bottom = 290.0

[node name="State" type="Label" parent="UI/DEBUG/VBoxContainer"]
layout_mode = 2
size_flags_horizontal = 0
size_flags_vertical = 0

[node name="Aiming" type="Label" parent="UI/DEBUG/VBoxContainer"]
layout_mode = 2

[node name="CanShoot" type="Label" parent="UI/DEBUG/VBoxContainer"]
layout_mode = 2

[node name="Attun" type="Label" parent="UI/DEBUG/VBoxContainer"]
layout_mode = 2
size_flags_horizontal = 0
size_flags_vertical = 0
text = "Attun: "

[node name="Inventory" parent="UI" node_paths=PackedStringArray("player") instance=ExtResource("5_nsixv")]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = 0.0
offset_top = 0.0
offset_right = 0.0
offset_bottom = 0.0
player = NodePath("../../TestMap/Player")

[node name="OnScreen" type="Control" parent="UI" node_paths=PackedStringArray("stam", "stam_bar")]
anchors_preset = 0
offset_right = 1155.0
offset_bottom = 651.0
script = ExtResource("7_27c3j")
stam = NodePath("../../TestMap/Player/Stamina")
stam_bar = NodePath("StaminaBar")

[node name="StaminaBar" type="ProgressBar" parent="UI/OnScreen"]
layout_mode = 0
offset_left = 14.0
offset_top = 36.0
offset_right = 246.0
offset_bottom = 63.0
theme_override_styles/background = SubResource("StyleBoxFlat_bb8dq")
theme_override_styles/fill = SubResource("StyleBoxFlat_64myj")
max_value = 10.0
value = 3.0
show_percentage = false

[node name="TextureRect" type="TextureRect" parent="UI/OnScreen"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -10.0
offset_top = -10.0
offset_right = 10.0
offset_bottom = 10.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("7_ma0te")

[connection signal="equipped_item" from="UI/Inventory" to="TestMap/Player" method="OnInventoryEquippedItem"]
[connection signal="unequipped_item" from="UI/Inventory" to="TestMap/Player" method="OnInventoryUnequippedItem"]

[editable path="TestMap/Player"]
[editable path="TestMap/Player/CameraComponent"]
